<!DOCTYPE html>
<html lang="ja">
<head>
  <title>ä»Šæ—¥ã®ãƒã‚±ãƒ¢ãƒ³</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2.0.6/css/pico.min.css">
  <style>
    body {
      background: linear-gradient(135deg, #ffefd5, #ffe4e1);
      text-align: center;
      font-family: "Comic Sans MS", "Arial Rounded MT Bold", sans-serif;
    }
    h1 {
      font-size: 2.5em;
      color: #ff4500;
      text-shadow: 2px 2px 0px #fff;
    }
    #pokemon {
      width: 320px;
      margin: auto;
      background: #fff8dc;
      border-radius: 20px;
      padding: 20px;
      box-shadow: 4px 4px 12px rgba(0,0,0,0.2);
    }
    #pokemonName {
      font-size: 2em;
      color: #228b22;
    }
    #pokemonEnglishName {
      font-size: 1.2em;
      color: #555;
    }
    #pokemonImage {
      width: 80%;
      margin: 10px auto;
      display: block;
      background: #f0f8ff;
      border-radius: 15px;
      padding: 10px;
    }
    button {
      font-size: 1.2em;
      padding: 10px 20px;
      border-radius: 15px;
      background: #ff69b4;
      border: none;
      color: white;
      cursor: pointer;
      margin-top: 15px;
    }
    button:hover {
      background: #ff1493;
    }
    #quiz {
      margin-top: 20px;
      font-size: 1.2em;
      color: #333;
    }
    #answer {
      margin-top: 10px;
      font-weight: bold;
      color: #ff4500;
    }
  </style>
</head>
<body>

<main class="container">
  <h1>ğŸ‰ ä»Šæ—¥ã®ãƒã‚±ãƒ¢ãƒ³ ğŸ‰</h1>
  
  <div id="pokemon">
    <h2 id="pokemonName">ï¼Ÿï¼Ÿï¼Ÿ</h2>
    <p id="pokemonEnglishName"></p>
    <img id="pokemonImage" src="">
    <button id="newPokemon">ã»ã‹ã®ãƒã‚±ãƒ¢ãƒ³ï¼</button>

    <div id="quiz">
      â“ ã“ã®ãƒã‚±ãƒ¢ãƒ³ã®åå‰ã¯ãªã‚“ã§ã—ã‚‡ã†ï¼Ÿ
      <br>
      <button id="showAnswer">ã“ãŸãˆã‚’ã¿ã‚‹</button>
      <p id="answer" style="display:none;"></p>
    </div>
  </div>
</main>

<script>
  const pokemonName = document.getElementById('pokemonName');
  const pokemonNameEnglish = document.getElementById('pokemonEnglishName');
  const pokemonImage = document.getElementById('pokemonImage');
  const answer = document.getElementById('answer');

  async function loadPokemon() {
    try {
      let pokemonNumber = Math.floor(Math.random() * 25) + 1;

      // åŸºæœ¬ãƒ‡ãƒ¼ã‚¿
      const res = await fetch(`https://pokeapi.co/api/v2/pokemon/${pokemonNumber}`);
      const data = await res.json();

      // ç”»åƒï¼ˆnull ã®å ´åˆã¯ä»£æ›¿ã‚¤ãƒ©ã‚¹ãƒˆï¼‰
      pokemonImage.src = data.sprites.front_default || "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/0.png";

      // åå‰ãƒ‡ãƒ¼ã‚¿
      const res2 = await fetch(`https://pokeapi.co/api/v2/pokemon-species/${pokemonNumber}`);
      const speciesData = await res2.json();

      // æ—¥æœ¬èªåï¼ˆja-Hrkt ã¾ãŸã¯ jaï¼‰
      let japaneseName = speciesData.names.find(n => n.language.name === "ja-Hrkt")
                      || speciesData.names.find(n => n.language.name === "ja");
      let englishName = speciesData.names.find(n => n.language.name === "en");

      if (japaneseName) {
        pokemonName.textContent = "ï¼Ÿï¼Ÿï¼Ÿ"; // ã‚¯ã‚¤ã‚ºç”¨
        answer.textContent = japaneseName.name;
      } else {
        pokemonName.textContent = "(æ—¥æœ¬èªåãªã—)";
        answer.textContent = "";
      }

      if (englishName) {
        pokemonNameEnglish.textContent = `English: ${englishName.name}`;
      } else {
        pokemonNameEnglish.textContent = "(è‹±èªåãªã—)";
      }

      answer.style.display = "none"; // æ–°ã—ã„ãƒã‚±ãƒ¢ãƒ³ã§ã¯ç­”ãˆéè¡¨ç¤º
    } catch (error) {
      console.error("ã‚¨ãƒ©ãƒ¼:", error);
      pokemonName.textContent = "ãƒã‚±ãƒ¢ãƒ³ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ";
    }
  }

  // åˆå›ãƒ­ãƒ¼ãƒ‰
  loadPokemon();

  // ãƒœã‚¿ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆ
  document.getElementById("newPokemon").addEventListener("click", loadPokemon);
  document.getElementById("showAnswer").addEventListener("click", () => {
    answer.style.display = "block";
    pokemonName.textContent = answer.textContent;
  });
</script>

</body>
</html>
